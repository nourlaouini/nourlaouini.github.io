<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>QCM CSS – Évaluation</title>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
<script>
  emailjs.init("I8FOLAGh1uzSAYAje"); // remplace par ta clé publique
</script>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; background:#f7f7f7; }
  h1 { text-align:center; }
  .question { background:white; padding:20px; margin-bottom:20px; border-radius:10px; box-shadow:0 0 5px rgba(0,0,0,0.1); }
  button { padding:10px 20px; font-size:16px; border:none; border-radius:8px; cursor:pointer; }
  #result { font-size:20px; font-weight:bold; margin-top:20px; }
</style>
</head>
<body>
<h1>QCM CSS – Évaluation (20 questions)</h1>
<h2 style="text-align:center; color:#b30000;">Temps restant : <span id="timer">15:00</span></h2>
<form id="qcmForm">

<!-- Identification Étudiant -->
<div class="question">
  <h2>Identification de l'étudiant</h2>
  <label>Nom et prénom :<br><input type="text" name="studentName" required style="width:100%; padding:8px; margin-top:5px;"></label>
</div>


<!-- Questions -->
<div class="question">
  <p>1. Quelle propriété contrôle la couleur du texte ?</p>
  <label><input type="radio" name="q1" value="A"> background-color</label><br>
  <label><input type="radio" name="q1" value="B"> color</label><br>
  <label><input type="radio" name="q1" value="C"> font-style</label><br>
</div>

<div class="question">
  <p>2. Quelle unité est relative ?</p>
  <label><input type="radio" name="q2" value="A"> px</label><br>
  <label><input type="radio" name="q2" value="B"> em</label><br>
  <label><input type="radio" name="q2" value="C"> cm</label><br>
</div>

<div class="question">
  <p>3. Que signifie <code>overflow: hidden;</code> ?</p>
  <label><input type="radio" name="q3" value="A"> Affiche une barre de défilement</label><br>
  <label><input type="radio" name="q3" value="B"> Masque ce qui dépasse</label><br>
  <label><input type="radio" name="q3" value="C"> Redimensionne l'élément</label><br>
</div>

<div class="question">
  <p>4. La propriété <code>font-weight</code> contrôle :</p>
  <label><input type="radio" name="q4" value="A"> La taille de police</label><br>
  <label><input type="radio" name="q4" value="B"> L'épaisseur du texte</label><br>
  <label><input type="radio" name="q4" value="C"> La couleur</label><br>
</div>

<div class="question">
  <p>5. <code>background-repeat: repeat-x;</code> répète :</p>
  <label><input type="radio" name="q5" value="A"> Verticalement</label><br>
  <label><input type="radio" name="q5" value="B"> Horizontalement uniquement</label><br>
  <label><input type="radio" name="q5" value="C"> Dans les deux sens</label><br>
</div>

<div class="question">
  <p>6. La propriété <code>border-radius</code> permet de :</p>
  <label><input type="radio" name="q6" value="A"> Ajouter une bordure</label><br>
  <label><input type="radio" name="q6" value="B"> Arrondir les coins</label><br>
  <label><input type="radio" name="q6" value="C"> Changer la couleur de bordure</label><br>
</div>

<div class="question">
  <p>7. Quelle valeur de <code>position</code> place l’élément selon le flux normal mais permet des décalages ?</p>
  <label><input type="radio" name="q7" value="A"> absolute</label><br>
  <label><input type="radio" name="q7" value="B"> relative</label><br>
  <label><input type="radio" name="q7" value="C"> fixed</label><br>
</div>

<div class="question">
  <p>8. <code>text-align: center;</code> affecte :</p>
  <label><input type="radio" name="q8" value="A"> Le centrage vertical</label><br>
  <label><input type="radio" name="q8" value="B"> Le centrage horizontal du texte</label><br>
  <label><input type="radio" name="q8" value="C"> La taille</label><br>
</div>

<div class="question">
  <p>9. Quelle propriété change la police d’un texte ?</p>
  <label><input type="radio" name="q9" value="A"> font-family</label><br>
  <label><input type="radio" name="q9" value="B"> font-weight</label><br>
  <label><input type="radio" name="q9" value="C"> font-style</label><br>
</div>

<div class="question">
  <p>10. <code>cursor: pointer;</code> est utilisé pour :</p>
  <label><input type="radio" name="q10" value="A"> Afficher une main au survol</label><br>
  <label><input type="radio" name="q10" value="B"> Afficher un texte</label><br>
  <label><input type="radio" name="q10" value="C"> Déplacer l'élément</label><br>
</div>

<div class="question">
  <p>11. <code>opacity: 0.5;</code> signifie :</p>
  <label><input type="radio" name="q11" value="A"> 50% de transparence</label><br>
  <label><input type="radio" name="q11" value="B"> 5% de transparence</label><br>
  <label><input type="radio" name="q11" value="C"> invisible</label><br>
</div>

<div class="question">
  <p>12. Quelle propriété règle l’espace interne d’un élément ?</p>
  <label><input type="radio" name="q12" value="A"> margin</label><br>
  <label><input type="radio" name="q12" value="B"> padding</label><br>
  <label><input type="radio" name="q12" value="C"> outline</label><br>
</div>

<div class="question">
  <p>13. <code>text-decoration: underline;</code> :</p>
  <label><input type="radio" name="q13" value="A"> Souligne le texte</label><br>
  <label><input type="radio" name="q13" value="B"> Le met en gras</label><br>
  <label><input type="radio" name="q13" value="C"> Change l'espacement</label><br>
</div>

<div class="question">
  <p>14. La valeur par défaut de <code>position</code> est :</p>
  <label><input type="radio" name="q14" value="A"> relative</label><br>
  <label><input type="radio" name="q14" value="B"> static</label><br>
  <label><input type="radio" name="q14" value="C"> absolute</label><br>
</div>

<div class="question">
  <p>15. <code>line-height</code> règle :</p>
  <label><input type="radio" name="q15" value="A"> L'interligne</label><br>
  <label><input type="radio" name="q15" value="B"> La largeur</label><br>
  <label><input type="radio" name="q15" value="C"> La marge basse</label><br>
</div>

<div class="question">
  <p>16. <code>visibility: hidden;</code> :</p>
  <label><input type="radio" name="q16" value="A"> Cache l'élément mais garde l’espace</label><br>
  <label><input type="radio" name="q16" value="B"> Supprime l’espace</label><br>
  <label><input type="radio" name="q16" value="C"> Rend flou</label><br>
</div>

<div class="question">
  <p>17. La propriété qui change la taille du texte est :</p>
  <label><input type="radio" name="q17" value="A"> font-weight</label><br>
  <label><input type="radio" name="q17" value="B"> font-size</label><br>
  <label><input type="radio" name="q17" value="C"> font-family</label><br>
</div>

<div class="question">
  <p>18. <code>border: 2px solid red;</code> définit :</p>
  <label><input type="radio" name="q18" value="A"> largeur, style, couleur</label><br>
  <label><input type="radio" name="q18" value="B"> coins arrondis</label><br>
  <label><input type="radio" name="q18" value="C"> uniquement la couleur</label><br>
</div>

<div class="question">
  <p>19. <code>z-index</code> fonctionne uniquement si :</p>
  <label><input type="radio" name="q19" value="A"> position ≠ static</label><br>
  <label><input type="radio" name="q19" value="B"> position = static</label><br>
  <label><input type="radio" name="q19" value="C"> background existe</label><br>
</div>

<div class="question">
  <p>20. <code>background-size: cover;</code> :</p>
  <label><input type="radio" name="q20" value="A"> Étire l’image pour couvrir tout l’espace</label><br>
  <label><input type="radio" name="q20" value="B"> Répète l’image</label><br>
  <label><input type="radio" name="q20" value="C"> Centrage horizontal</label><br>
</div>

<button type="button" onclick="terminer()">Terminer</button>
<button type="button" onclick="envoyerScore()">Envoyer</button>
</form>

<div id="result"></div>

<script>
const correctAnswers = {
  q1:'B', q2:'B', q3:'B', q4:'B', q5:'B',
  q6:'B', q7:'B', q8:'B', q9:'A', q10:'A',
  q11:'A', q12:'B', q13:'A', q14:'B', q15:'A',
  q16:'A', q17:'B', q18:'A', q19:'A', q20:'A'
};

function terminer(){
  let score = 0;
  let total = 20;
  for (let q in correctAnswers){
    const selected = document.querySelector(`input[name="${q}"]:checked`);
    if(selected && selected.value === correctAnswers[q]) score++;
  }
  document.getElementById("result").innerText = `Score : ${score} / ${total}`;
}

function envoyerScore() {
    // Récupérer le nom de l'étudiant
    const nom = document.querySelector('input[name="studentName"]').value;

    // Récupérer le score déjà calculé
    const resultText = document.getElementById("result").innerText;
    const score = (resultText.match(/\d+/) || [0])[0];

    // Envoyer via EmailJS
    emailjs.send("service_1tdr5gb", "template_u2no29j", {
        student_name: nom,
        student_score: score
    }).then(function() {
        alert("Score envoyé avec succès !");
    }, function(error) {
        alert("Erreur lors de l'envoi du score : " + error);
    });
}
// Minuteur 10 minutes
let timeLeft = 60;
const timerEl = document.getElementById('timer');
window.addEventListener('beforeunload', function(e){ e.preventDefault(); e.returnValue=''; });

const countdown = setInterval(() => {
  let minutes = Math.floor(timeLeft / 60);
  let seconds = timeLeft % 60;
  timerEl.textContent = `${minutes}:${seconds.toString().padStart(2,'0')}`;
  timeLeft--;
  if(timeLeft < 0){
    clearInterval(countdown);
    terminer();
    alert('Temps écoulé ! Le test est automatiquement soumis.');
  }
}, 1000);

</script>

</body>
</html>
